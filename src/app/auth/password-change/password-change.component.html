<mat-card class="pandatronik-mat-card">
  <form [formGroup]="passwordChangeForm" (ngSubmit)="requestNewPassword()">
    <!-- ##### PASSWORD ##### -->

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Password</mat-label>
      <input 
        matInput 
        placeholder="password" 
        formControlName="password"
        type="password"
        id="password"
        name="password"
        maxlength="60">
    </mat-form-field>
    <mat-error *ngIf="
      passwordChangeForm.controls['password'].touched && (
        passwordChangeForm.controls['password'].hasError('minlength') ||
        passwordChangeForm.controls['password'].hasError('maxlength')
      )">
      {{ password_length_validator }}
    </mat-error>
    <mat-error *ngIf="
      passwordChangeForm.controls['password'].touched &&
      passwordChangeForm.controls['password'].hasError('required')">
      {{ password_required_validator }}
    </mat-error>
        <mat-error *ngIf="
      passwordChangeForm.controls['password'].touched &&
      passwordChangeForm.controls['password'].hasError('pattern')">
      {{ password_pattern_validator }}
    </mat-error>

    <!-- ##### CONFIRM PASSWORD ##### -->

    <mat-form-field class="full-width" appearance="outline">
      <mat-label>Confirm password</mat-label>
      <input 
        matInput 
        placeholder="confirmPassword" 
        formControlName="confirmPassword"
        type="password"
        id="confirmPassword"
        name="confirmPassword"
        maxlength="60">
    </mat-form-field>
    <mat-error *ngIf="
        passwordChangeForm.controls['confirmPassword'].touched && (
        passwordChangeForm.controls['confirmPassword'].hasError('minlength') ||
        passwordChangeForm.controls['confirmPassword'].hasError('maxlength')
      )">
      {{ password_length_validator }}
    </mat-error>
    <mat-error *ngIf="
      passwordChangeForm.controls['confirmPassword'].touched &&
      passwordChangeForm.controls['confirmPassword'].hasError('required')">
      {{ password_required_validator }}
    </mat-error>
    <!-- TODO: password and confirm password must match-->
    <!-- <mat-error *ngIf="
      passwordChangeForm.controls['confirmPassword'].touched &&
      passwordChangeForm.controls['confirmPassword'].hasError('required')">
      {{ password_required_validator }}
    </mat-error> -->

    <button type="submit" color="primary" mat-raised-button [disabled]="!passwordChangeForm.valid">Submit</button>
  </form>
</mat-card>  