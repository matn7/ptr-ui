{"ast":null,"code":"import { FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { DaysService } from 'src/app/days/days.service';\nimport { AuthenticationService } from 'src/app/auth/authentication.service';\nimport { ErrorService } from 'src/app/services/data/error.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/days/days.service\";\nimport * as i3 from \"src/app/auth/authentication.service\";\nimport * as i4 from \"src/app/services/data/error.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nexport let DaysSingleComponent = /*#__PURE__*/(() => {\n  class DaysSingleComponent {\n    constructor(route, service, router, authService, errorService) {\n      this.route = route;\n      this.service = service;\n      this.router = router;\n      this.authService = authService;\n      this.errorService = errorService;\n      this.isError = false;\n    }\n\n    ngOnInit() {\n      this.username = this.authService.getAuthenticatedUser();\n      this.route.params.subscribe(params => {\n        this.day = +params[\"day\"];\n        this.month = +params[\"month\"];\n        this.year = +params[\"year\"];\n      });\n      this.daysInMonth = new Date(this.year, this.month, 0).getDate();\n      this.numbers = Array(this.daysInMonth).fill(0).map((x, i) => i);\n      this.initForm();\n      this.returnUrl = \"/days/\" + this.year + \"/\" + this.month + \"/\" + this.day;\n      this.days = this.service.getDaysByYearMonthDay(this.username, this.year, this.month, this.day).subscribe(days => {\n        this.errorMessage = \"\";\n        this.days = days;\n      }, error => {\n        this.errorService.displayMessage(error, this.returnUrl);\n      });\n    }\n\n    onSubmit() {\n      this.year = this.selectDate.value.selectYear;\n      this.month = this.selectDate.value.selectMonth;\n      this.day = this.selectDate.value.selectDay;\n      this.router.navigate([\"/days/\" + this.year + \"/\" + this.month + \"/\" + this.day]);\n      this.daysInMonth = new Date(this.year, this.month, 0).getDate();\n      this.numbers = Array(this.daysInMonth).fill(0).map((x, i) => i);\n      this.days = this.service.getDaysByYearMonthDay(this.username, this.year, this.month, this.day).subscribe(days => {\n        this.errorMessage = \"\";\n        this.days = days;\n      }, error => {\n        this.errorService.displayMessage(error, this.returnUrl);\n      });\n    }\n\n    initForm() {\n      const selectYear = this.year;\n      const selectMonth = this.month;\n      const selectDay = this.day;\n      this.selectDate = new FormGroup({\n        selectYear: new FormControl(selectYear, Validators.required),\n        selectMonth: new FormControl(selectMonth, Validators.required),\n        selectDay: new FormControl(selectDay, Validators.required)\n      });\n    }\n\n  }\n\n  DaysSingleComponent.ɵfac = function DaysSingleComponent_Factory(t) {\n    return new (t || DaysSingleComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DaysService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i3.AuthenticationService), i0.ɵɵdirectiveInject(i4.ErrorService));\n  };\n\n  DaysSingleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DaysSingleComponent,\n    selectors: [[\"app-days-single\"]],\n    decls: 45,\n    vars: 23,\n    consts: [[1, \"choose-date-form\", 3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"pandatronik-select-date\"], [\"formControlName\", \"selectYear\", \"id\", \"selectYear\"], [3, \"value\"], [\"formControlName\", \"selectMonth\", \"id\", \"selectMonth\"], [\"type\", \"submit\", \"color\", \"primary\", \"mat-raised-button\", \"\"]],\n    template: function DaysSingleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function DaysSingleComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"mat-form-field\", 1)(2, \"mat-select\", 2)(3, \"mat-option\", 3);\n        i0.ɵɵtext(4, \"2020\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-option\", 3);\n        i0.ɵɵtext(6, \"2019\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-option\", 3);\n        i0.ɵɵtext(8, \"2018\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-option\", 3);\n        i0.ɵɵtext(10, \"2017\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"mat-form-field\", 1)(12, \"mat-select\", 4)(13, \"mat-option\", 3);\n        i0.ɵɵtext(14, \"January\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-option\", 3);\n        i0.ɵɵtext(16, \"February\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-option\", 3);\n        i0.ɵɵtext(18, \"March\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-option\", 3);\n        i0.ɵɵtext(20, \"April\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-option\", 3);\n        i0.ɵɵtext(22, \"May\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"mat-option\", 3);\n        i0.ɵɵtext(24, \"June\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-option\", 3);\n        i0.ɵɵtext(26, \"July\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"mat-option\", 3);\n        i0.ɵɵtext(28, \"August\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"mat-option\", 3);\n        i0.ɵɵtext(30, \"September\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"mat-option\", 3);\n        i0.ɵɵtext(32, \"October\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"mat-option\", 3);\n        i0.ɵɵtext(34, \"November\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"mat-option\", 3);\n        i0.ɵɵtext(36, \"December\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(37, \"button\", 5);\n        i0.ɵɵtext(38, \"Submit\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"mat-card\")(40, \"mat-card-content\");\n        i0.ɵɵtext(41);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"mat-card-content\");\n        i0.ɵɵtext(43);\n        i0.ɵɵpipe(44, \"date\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.selectDate);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"value\", 2020);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 2019);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 2018);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 2017);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"value\", 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 6);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 7);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 8);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 9);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 10);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 11);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", 12);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.days.body);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(44, 20, ctx.days.startDate, \"yyyy-MM-dd\"), \" \", ctx.days.rateDay, \"\");\n      }\n    },\n    dependencies: [i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.FormControlName, i6.DatePipe]\n  });\n  return DaysSingleComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}